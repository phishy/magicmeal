version: "3.9"

services:
  off:
    image: openfoodfacts/openfoodfacts-server:latest
    container_name: openfoodfacts
    environment:
      # Example env vars – real ones depend on OFF docs
      MONGO_HOST: db
      MONGO_PORT: 27017
      # …anything else OFF expects…
    ports:
      - "8080:8080"
    depends_on:
      - db

  db:
    image: mongo:6
    container_name: openfoodfacts-mongo
    volumes:
      - off-db-data:/data/db

volumes:
  off-db-data:
